<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Security-Policy"
        content="default-src 'none'; img-src {{cspSource}} https:; script-src {{cspSource}} 'unsafe-inline'; style-src {{cspSource}} 'unsafe-inline';">
    <title>{{tableName}} - Data</title>
    <link rel="stylesheet" href="{{cssPath}}">
</head>

<body>
    <div class="container">
        <!-- Top toolbar -->
        <div class="toolbar">
            <div class="breadcrumb">
                <span class="connection-name">{{connectionName}}</span>
                <span class="separator">></span>
                <span class="database-name">{{databaseName}}</span>
                <span class="separator">></span>
                <span class="table-name">{{tableName}}</span>
            </div>
            <div class="actions">
                <button class="button" id="refresh">
                    <span>Refresh</span>
                </button>
                <button class="button" id="execute-query">
                    <span>Execute Query</span>
                </button>
                <button class="button" id="export">
                    <span>Export</span>
                </button>
            </div>
        </div>

        <!-- Filter area -->
        <div class="filter-container">
            <div class="filter-row">
                <select class="filter-column" id="filter-column">
                    <option value="">Select column</option>
                </select>
                <select class="filter-operator" id="filter-operator">
                    <option value="=">=</option>
                    <option value="!=">!=</option>
                    <option value=">">></option>
                    <option value="<">
                        << /option>
                    <option value=">=">>=</option>
                    <option value="<=">
                        <=< /option>
                    <option value="LIKE">LIKE</option>
                    <option value="IS NULL">IS NULL</option>
                    <option value="IS NOT NULL">IS NOT NULL</option>
                </select>
                <input type="text" class="filter-value" id="filter-value">
                <button class="button" id="apply-filter">Apply</button>
                <button class="button secondary" id="clear-filter">Clear</button>
            </div>
        </div>

        <!-- Data table -->
        <div class="table-container">
            <table id="data-table">
                <thead id="table-header">
                    <!-- Table headers will be inserted here by JavaScript -->
                </thead>
                <tbody id="table-body">
                    <!-- Table rows will be inserted here by JavaScript -->
                </tbody>
            </table>
        </div>

        <!-- Status bar -->
        <div class="status-bar">
            <div class="row-info">
                <span>Total: <span id="row-count">{{rowCount}}</span> rows</span>
            </div>
            <div class="pagination">
                <button class="button" id="prev-page">Previous</button>
                <span class="page-info">
                    Page <span id="current-page">1</span> of <span id="total-pages">1</span>
                </span>
                <button class="button" id="next-page">Next</button>
                <select id="page-size">
                    <option value="50">50</option>
                    <option value="100" selected>100</option>
                    <option value="200">200</option>
                    <option value="500">500</option>
                </select>
            </div>
        </div>
    </div>

    <script src="{{jsPath}}"></script>
    <script>
        // 初始化数据
        const data = DATA_PLACEHOLDER;
        window.onload = function () {
            initializeDataView(data);
        };
    </script>
</body>

</html>